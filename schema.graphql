type Query {
  getNodes: [Node!]!
}

type Node {
  id: Int!
  name: String!
  order: Int!
  type: NodeType!
  parent_id: Int
}

enum NodeType {
  object
  string
  number
  boolean
  list
  date
  schema
}

type Mutation {
  register(data: Registration!): Boolean!
  login(data: Login!): LoggedinUser!
  insertNode(data: InsertNode!): Node!
  updateNode(data: ChangeNodeInput!): Boolean!
  deleteNodeById(order: Int!, parent_id: Int!, id: Int!): Boolean!
}

input Registration {
  name: String!
  password: String!
  email: String!
}

type LoggedinUser {
  id: Int!
  token: String!
  name: String!
  email: String!
}

input Login {
  email: String!
  password: String!
}

input InsertNode {
  name: String!
  order: Int!
  type: NodeType!
  parent_id: Int
}

input ChangeNodeInput {
  id: Int!
  name: String!
  order: Int
  type: NodeType
  parent_id: Int
}

type Subscription {
  nodesUpdated: Boolean!
}